# Офлайн-библиотека на основе парсера книг с сайта tululu.org
Набор скриптов для парсинга онлайн-библиотеки  [tululu.org](https://tululu.org/),
скачивания книг из библиотеки, сбора информацию о книгах
и создания, на основе полученных данных, офлайн-библиотеки:

![library_screen](https://user-images.githubusercontent.com/17517383/159776981-195aa651-afe3-40dd-ac20-bd989d25abb5.png)

Пример библиотеки можно посмотреть на [GitHub Pages](https://clownkill.github.io/books-library-restyle/pages/index1.html).

### Как установить

Python3 должен быть уже установлен. Затем используйте 'pip' (или 'pip3', если есть конфликт с Python2) для 
установки зависимостей.
```
pip install -r requirements.txt
```
# Описание модулей

## parse_tululu_book_page.py

Позволяет скачивать книги и собирать информацию о них с помощью id книги из
онлайн-библиотеки [tululu.org](https://tululu.org/).

### Аргументы

При запуске скрипта с помощью аргументов командной строки можно передать следующие аргументы:
- [-s] [--start_id] - id книги с которой начинается скачивание (по умолчанию - 1).
- [-e] [--end_id] - id книги на которой заканчивается скачивание (по умолчанию - 10).

### Использование

Для запуска с аргументами по умолчанию необходимо выполнить:
```
python parse_tululu_book_page.py
```
В результате скачаются книги у которых id от 1 до 10

Для запуска с указанием id книг, которые необходимо скачать нужно выполнить:
```
python parse_tululu_book_page.py -s 11 -e 20
```
или
```
python parse_tululu_book_page.py --start_id 11 --end_id 20
```
В результате скачаются книги с id от 11 до 20.

## parse_tululu_category.py

Позволяет скачивать книги одной категории из онлайн-библиотеки [tululu.org](https://tululu.org/).
Также сохраняет всю информацию о скачанных книгах в json-файл.

### Аргументы

При запуске скрипта с помощью аргументов командной строки можно передать следующие аргументы:
- [-s] [--start_page] - номер страницы библиотеки с которой начинается скачивание (по умолчанию - 1).
- [-e] [--end_page] - номер страницы библиотеки книги на которой заканчивается скачивание 
(если не указать - скачаются книги только со страницы указанной в start_page).
- [-df] [--dest_folder] - имя каталога в который будут записываться данные скачанные из библиотеки (по умолчанию родительский каталог).
- [-jp] [--json_path] - имя каталога в который будет записываться json-файл с данными о книгах.
- [-si] [--skip_image] - отключает скачивание обложек книг.
- [-st] [--skip_text] - отключает скачивание книг.

### Использование

При запуске без аргументов коммандной строки:
```
python parse_tululu_category.py
```
Скачаются книги со всех страниц.

Все аргументы коммандной строки являются необязательными:
```
python parse_tululu_category.py [-s] [-e] [-df] [-jp] [-si] [-st]
```

### Создание офлайн-библиотеки
Для скачивания книг и обложек книг для офлайн-библиотеки необходимо выполнить:
```
python parse_tululu_category.py [-s <начальная страница>] [-e <конечная страница>] -df media
```

Для создания офлайн-библиотеки необходимо выполнить:
```
python render_website.py
```
Офлайн библиотека будет храниться по адресу `[корень проекта]/pages`


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
